------------------------------------»óÇ° Å×ÀÌºí-----------------------------
»óÇ°¹øÈ£
È¸¿ø¹øÈ£
»óÇ°ÀÌ¸§
»óÇ°¸ÞÀÎÄ«Å×°í¸®
»óÇ°¼­ºêÄ«Å×°í¸®
»óÇ°°¡°Ý
»óÇ°µî·ÏÀÏÀÚ
»óÇ°»óÅÂ
Á¶È¸¼ö
»óÇ°¼³¸í
»óÇ°¼ö·®
¹è¼Ûºñ¿©ºÎ
°Å·¡Áö¿ª
½æ³×ÀÏÆÄÀÏÀÌ¸§
½æ³×ÀÏÆÄÀÏ°æ·Î
»óÇ°°Å·¡»óÅÂ




CREATE TABLE ITEM(
    ITEM_NO             NUMBER          PRIMARY KEY,
    MEMBER_NO           NUMBER,
    ITEM_NAME           VARCHAR2(100)   NOT NULL,
    ITEM_MAIN_CATEGORY  VARCHAR2(100)   NOT NULL,
    ITEM_SUB_CATEGORY   VARCHAR2(100),
    ITEM_PRICE          NUMBER          NOT NULL,
    ITEM_ENROLL_DATE    DATE            DEFAULT SYSDATE,
    ITEM_STATE          VARCHAR2(30)    NOT NULL,
    READCOUNT           NUMBER          DEFAULT 0,
    ITEM_CONTENT        VARCHAR2(1000),
    ITEM_AMOUNT         NUMBER          NOT NULL,
    ITEM_DELIVERY_NY    NUMBER          NOT NULL,
    ITEM_DEAL_REGION    VARCHAR2(50)    NOT NULL,
    ITEM_THUM_FILENAME  VARCHAR2(100),
    ITEM_THUM_FILEPATH  VARCHAR2(100),
    ITEM_DEAL_STATE     VARCHAR2(30)    NOT NULL,
    CONSTRAINT FK_ITEM_MEMBER_NO FOREIGN KEY (MEMBER_NO)REFERENCES 
    MEMBER(MEMBER_NO) ON DELETE SET NULL
);


CREATE SEQUENCE ITEM_NO_SEQ;
DROP TABLE ITEM;
commit;
SELECT * FROM ITEM;


---------------------------------------1:1¹®ÀÇ Å×ÀÌºí-----------------------
¹®ÀÇ ¹øÈ£
ÀÛ¼ºÀÚ È¸¿ø¹øÈ£
ÀÛ¼ºÀÚ
¹®ÀÇ³»¿ë
ÀÛ¼ºÀÏ
ÆÄÀÏÀÌ¸§
ÆÄÀÏ°æ·Î
´ëºÐ·ù
¼ÒºÐ·ù
´äº¯»óÅÂ 
´äº¯³»¿ë
´äº¯ ÀÛ¼ºÀÏ

create table MTOM_INQUIRY(
MTOM_INQUIRY_NO NUMBER PRIMARY KEY,
MEMBER_NO NUMBER,
MTOM_INQUIRY_WRITER VARCHAR2(40) NOT NULL,
MTOM_INQUIRY_CONTENT VARCHAR2(1000) NOT NULL,
MTOM_INQUIRY_DATE DATE DEFAULT SYSDATE,
FILE_NAME VARCHAR2(100),
FILE_PATH VARCHAR2(100),
MTOM_INQUIRY_MAIN_CATEGORY VARCHAR2(40) NOT NULL,
MTOM_INQUIRY_SUB_CATEGORY VARCHAR2(40) NOT NULL,
MTOM_INQUIRY_ANSWER_STATE NUMBER NOT NULL,
MTOM_INQUIRY_ANSWER_CONTENT VARCHAR2(1000),
MTOM_INQUIRY_ANSWER_DATE DATE DEFAULT SYSDATE,
CONSTRAINT FK_MTOM_INQUIRY_MEMBER_NO FOREIGN KEY (MEMBER_NO) REFERENCES 
MEMBER(MEMBER_NO) ON DELETE CASCADE
);
CREATE SEQUENCE MTOM_INQUIRY_NO_SEQ;

DROP TABLE MTOM_INQUIRY;
SELECT * FROM MTOM_INQUIRY;
COMMIT;


------------------------------- °øÁö»çÇ× Å×ÀÌºí------------------------------
°øÁö»çÇ× ¹øÈ£
Á¦¸ñ
³»¿ë
ÀÛ¼ºÀÚ
ÀÛ¼ºÀÏ 
Á¶È¸¼ö
ÆÄÀÏÀÌ¸§
ÆÄÀÏ°æ·Î

CREATE TABLE NOTICE(
NOTICE_NO NUMBER PRIMARY KEY,
NOTICE_TITLE VARCHAR2(40) NOT NULL,
NOTICE_CONTENT VARCHAR2(1000) NOT NULL,
NOTICE_WRITER VARCHAR(40) NOT NULL,
NOTICE_DATE DATE DEFAULT SYSDATE,
READCOUNT NUMBER,
FILE_NAME VARCHAR2(100),
FILE_PATH VARCHAR2(100),
CONSTRAINT FK_NOTICE_WRITER FOREIGN KEY (NOTICE_WRITER)REFERENCES 
MEMBER(SHOP_NAME) ON DELETE SET NULL
);

CREATE SEQUENCE NOTICE_NO_SEQ;

DROP TABLE NOTICE;
SELECT * FROM NOTICE;
COMMIT;

-------------------------------È¸¿øÅ×ÀÌºí  = »óÁ¡----------------------

È¸¿ø¹øÈ£
ÀÌ¸ÞÀÏ
ºñ¹Ð¹øÈ£
ÀÌ¸§
°¡ÀÔÀÏÀÚ
¿¬¶ôÃ³
ÁýÁÖ¼Ò
¿ìÆí¹øÈ£
°èÁÂ
»óÁ¡ÀÌ¸§
»óÁ¡ ¼Ò°³±Û
»óÁ¡ ¹æ¹®¼ö
ÆÄÀÏÀÌ¸§
ÆÄÀÏ °æ·Î


CREATE TABLE MEMBER(
MEMBER_NO NUMBER PRIMARY KEY,
EMAIL VARCHAR2(100) NOT NULL UNIQUE,
MEMBER_PW VARCHAR2(40) NOT NULL,
MEMBER_NAME VARCHAR2(40) ,
ENROLL_DATE DATE DEFAULT SYSDATE,
PHONE VARCHAR2(40) NOT NULL,
ADDRESS VARCHAR2(100) NOT NULL,
ZIP_CODE VARCHAR2(50) NOT NULL,
MEMBER_BANK VARCHAR2(50),
MEMBER_ACCOUNT VARCHAR2(50),
SHOP_NAME VARCHAR2(40) UNIQUE,
SHOP_CONTENT VARCHAR2(500),
SHOP_READCOUNT NUMBER DEFAULT 0,
FILE_NAME VARCHAR2(100),
FILE_PATH VARCHAR2(100)
);

CREATE SEQUENCE MEMBER_NO_SEQ;

DROP TABLE MEMBER;
SELECT * FROM MEMBER;
COMMIT;
------------------------------ ¾Ë¸² Å×ÀÌºí -----------------------------
¾Ë¸²¹øÈ£ 
ÆÇ¸ÅÀÚ È¸¿ø¹øÈ£
±¸¸ÅÀÚ »óÁ¡ÀÌ¸§
¾Ë¸²Á¾·ù
»óÇ°¸í
´ñ±Û³»¿ë
ÈÄ±â³»¿ë 
¾Ë¸² µî·Ï ½Ã°£

CREATE TABLE ALARM(
ALARM_NO NUMBER PRIMARY KEY,
ALARM_SELLER_NO NUMBER,
ALARM_BUYER_SHOP_NAME VARCHAR2(40),
ALARM_TYPE VARCHAR2(100) NOT NULL,
ALARM_ITEM_NAME VARCHAR2(100),
ALARM_ITEM_INQUIRY_COMMENT VARCHAR2(1000),
ALARM_MEMBER_REVIEW_COMMENT VARCHAR2(500),
ALARM_DATE DATE DEFAULT SYSDATE,
CONSTRAINT FK_ARARM_SELLER_NO FOREIGN KEY (ALARM_SELLER_NO)REFERENCES 
MEMBER(MEMBER_NO) ON DELETE SET NULL,
CONSTRAINT FK_ARARM_BUYER_SHOP_NAME FOREIGN KEY (ALARM_BUYER_SHOP_NAME)REFERENCES 
MEMBER(SHOP_NAME) ON DELETE SET NULL
);

CREATE SEQUENCE ALARM_NO_SEQ;
DROP TABLE ALARM;
SELECT * FROM ALARM;
COMMIT;

------------------------------- Âò Å×ÀÌºí -------------------------------
Âò 
»óÁ¡¹øÈ£(»óÇ°À» ÂòÇÑ »óÁ¡)
»óÇ°¹øÈ£

CREATE TABLE FAVORITE(
SHOP_NO NUMBER NOT NULL,
ITEM_NO NUMBER NOT NULL,
CONSTRAINT FK_SHOP_NO FOREIGN KEY (SHOP_NO)REFERENCES 
MEMBER(MEMBER_NO) ON DELETE CASCADE,
CONSTRAINT FK_ITEM_NO FOREIGN KEY (ITEM_NO)REFERENCES
ITEM(ITEM_NO) ON DELETE CASCADE
);

DROP TABLE FAVORITE;
SELECT * FROM FAVORITE;
COMMIT;

-------------------------------°Ë»ö¾î Å×ÀÌºí ------------------------------
°Ë»ö³»¿ë
°Ë»öÀÏÀÚ
°Ë»ö È¸¼ö

CREATE TABLE SEARCH(
SEARCH_CONTENT VARCHAR2(100) PRIMARY KEY,
SEARCH_DATE DATE DEFAULT SYSDATE,
SEARCH_COUNT NUMBER
);

DROP TABLE SEARCH;
SELECT * FROM SEARCH;
COMMIT;
------------------------------¼±È£ÇÏ´Â Áö¿ª(3±º´ë) Å×ÀÌºí-------------------
È¸¿ø¹øÈ£
ÁÖ¼Ò¼±ÅÃ

<<<<<<< HEAD:í…Œì´ë¸” ìƒì„±sql_10.24.txt
CREATE TABLE MEMBER_ADDRES(
MEMBER_NO NUMBER,
ADDR_CHOICE VARCHAR2(100),
CONSTRAINT FK_MEMBER_ADDRS_MEMBER_NO FOREIGN KEY (MEMBER_NO)REFERENCES 
MEMBER(MEMBER_NO) ON DELETE CASCADE
=======
CREATE TABLE MEMBER_ADDRESS(
EMAIL VARCHAR2(100),
ADDR_CHOICE_CITY VARCHAR2(100),
ADDR_CHOICE_GUNGU VARCHAR2(100),
CONSTRAINT FK_MEMBER_ADDRS_EMAIL FOREIGN KEY (EMAIL)REFERENCES 
MEMBER(EMAIL) ON DELETE CASCADE
>>>>>>> sjHan:tomato_db~1.sql
);

DROP TABLE MEMBER_ADDRES;
SELECT * FROM MEMBER_ADDRES;
COMMIT;
-----------------------------»óÁ¡ ÈÄ±â Å×ÀÌºí ---------------------------------

ÈÄ±â¹øÈ£
»óÁ¡¹øÈ£
ÀÛ¼ºÀÚ »óÁ¡ ÀÌ¸§
ÈÄ±â ÀÛ¼ºÀÏ
ÈÄ±â³»¿ë
º°Á¡

CREATE TABLE REVIEW(
REVIEW_NO NUMBER PRIMARY KEY,
SHOP_NO NUMBER,
REVIEW_WRITER VARCHAR2(40),
REVIEW_DATE DATE DEFAULT SYSDATE,
REVIEW_CONTENT VARCHAR2(500) NOT NULL,
REVIEW_SCORE NUMBER,
CONSTRAINT FK_REVIEW_SHOP_NO FOREIGN KEY (SHOP_NO)REFERENCES 
MEMBER(MEMBER_NO) ON DELETE CASCADE,
CONSTRAINT FK_REVIEW_WRITER FOREIGN KEY (REVIEW_WRITER)REFERENCES 
MEMBER(SHOP_NAME) ON DELETE SET NULL
);

CREATE SEQUENCE REVIEW_NO_SEQ;

DROP TABLE REVIEW;
SELECT * FROM REVIEW;
COMMIT;
-------------------------------  °áÁ¦ Å×ÀÌºí---------------------------------
»óÇ°¹øÈ£
È¸¿ø¹øÈ£
°ü¸®ÀÚ °íÀ¯ID
°áÁ¦±Ý¾× 
°áÁ¦ »óÅÂ
°áÁ¦ÀÏ
Ä«µå ½ÂÀÎ¹øÈ£
°áÁ¦ ¼ö¼ö·á
»óÁ¡ °Å·¡ID
È¯ºÒ ¿©ºÎ

CREATE TABLE PAYMENT(
MERCHANT_UID VARCHAR2(40) primary key,
ITEM_NO NUMBER,
MEMBER_NO NUMBER,
IMP_UID VARCHAR2(40) ,
PAYMENT_PAY NUMBER NOT NULL,
PAYMENT_STATE VARCHAR2(40) NOT NULL,
PAYMENT_DATE DATE DEFAULT SYSDATE,
PAYMENT_APPLY_NUM VARCHAR2(40) NOT NULL,
PAYMENT_COMMISSION NUMBER,
PAYMENT_NY VARCHAR2(40) NOT NULL,
CONSTRAINT FK_PAYMENT_ITEM_NO FOREIGN KEY (ITEM_NO)REFERENCES 
ITEM(ITEM_NO) ON DELETE SET NULL,
CONSTRAINT FK_PAYMENT_MEMBER_NO FOREIGN KEY (MEMBER_NO)REFERENCES 
MEMBER(MEMBER_NO) ON DELETE SET NULL
);

DROP TABLE PAYMENT;
SELECT * FROM PAYMENT;
COMMIT;

-------------------------- °Å·¡ Å×ÀÌºí ----------------------------------------
°Å·¡ ¹øÈ£ 
±¸¸ÅÀÚ
ÆÇ¸ÅÀÚ
»óÇ°¹øÈ£
°Å·¡»óÅÂ

CREATE TABLE DEAL(
DEAL_NO NUMBER PRIMARY KEY,
BUYER NUMBER,
SALER NUMBER,
ITEM_NO NUMBER,
DEAL_STATE VARCHAR2(30),
DEAL_END_DATE DATE,
CONSTRAINT FK_BUYER FOREIGN KEY (BUYER)REFERENCES 
MEMBER(MEMBER_NO) ON DELETE SET NULL,
CONSTRAINT FK_SALER FOREIGN KEY (SALER)REFERENCES 
MEMBER(MEMBER_NO) ON DELETE SET NULL,
CONSTRAINT FK_DEAL_ITEM_NO FOREIGN KEY (ITEM_NO)REFERENCES 
ITEM(ITEM_NO) ON DELETE SET NULL
);

-- »èÁ¦³ª º¯°æ½Ã ¾ÆÀÌÅÛ¿¡ °Å·¡»óÅÂÄÃ·³µµ º¯°æ ÇÊ¿ä

CREATE SEQUENCE DEAL_NO_SEQ;
DROP TABLE DEAL;
SELECT * FROM DEAL;
COMMIT;

------------------------------ »óÇ° ¹®ÀÇ Å×ÀÌºí --------------------------
´ñ±Û ¹øÈ£
ÀÛ¼ºÀÚ ´Ð³×ÀÓ
´ñ±Û´Þ¸° »óÇ°¹øÈ£
´ñ±Û ³»¿ë
´ñ±Û ÀÛ¼ºÀÏ
´ñ±Û ´Ü°è
´ä±Û´Þ¸° ´ñ±Û¹øÈ£

CREATE TABLE ITEM_INQUIRY(
ITEM_INQUIRY_NO NUMBER PRIMARY KEY,
ITEM_INQUIRY_WRITER VARCHAR2(40),
ITEM_REF NUMBER,
ITEM_INQUIRY_COMMENT VARCHAR2(1000) NOT NULL,
ITEM_INQUIRY_DATE DATE DEFAULT SYSDATE,
ITEM_INQUIRY_LEVEL NUMBER NOT NULL,
ITEM_INQUIRY_REF NUMBER ,
CONSTRAINT FK_ITEM_REF FOREIGN KEY (ITEM_REF)REFERENCES 
ITEM(ITEM_NO) ON DELETE SET NULL,
CONSTRAINT FK_ITEM_INQUIRY_REF FOREIGN KEY (ITEM_INQUIRY_REF)REFERENCES 
ITEM_INQUIRY(ITEM_INQUIRY_NO) ON DELETE SET NULL
);

CREATE SEQUENCE ITEM_INQUIRY_NO_SEQ;

DROP TABLE ITEM_INQUIRY;
SELECT * FROM ITEM_INQUIRY;
COMMIT;


------------------------------»óÇ° ÀÌ¹ÌÁö Å×ÀÌºí-------------------------
»óÇ° ¹øÈ£
ÆÄÀÏÀÌ¸§
ÆÄÀÏ °æ·Î
½æ³×ÀÏ ¼³Á¤ ¿©ºÎ

CREATE TABLE ITEM_IMAGE(
ITEM_NO NUMBER,
FILE_NAME VARCHAR2(100) NOT NULL,
FILE_PATH VARCHAR2(100) NOT NULL,
THUM_NY NUMBER NOT NULL,
CONSTRAINT FK_ITEM_IMAGE_ITEM_NO FOREIGN KEY (ITEM_NO)REFERENCES 
ITEM(ITEM_NO) ON DELETE SET NULL
);

DROP TABLE ITEM_IMAGE;
SELECT * FROM ITEM_IMAGE;
COMMIT;


------- DB Á¢¼Ó Å×½ºÆ®¿ë Å×ÀÌºí ------

CREATE TABLE T_TEST(
T_TEST_NO NUMBER PRIMARY KEY,
T_TEST_NAME VARCHAR2(100) NOT NULL
);

SELECT * FROM T_TEST;

insert into t_test values(1, 'µÇ¶ó');
insert into t_test values(2, 'µÅ¶ó');
insert into t_test values(3, '´ë¶ó');

select t_test_name from t_test;

COMMIT;





